!function(e){function t(t){for(var o,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={0:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://open.scdn.co/cdn/build/open/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([89,1]),n()}([,,,function(e,t){e.exports.toggle=function(e){return{type:"PLAY_TOGGLE",data:{source:e}}},e.exports.playIndex=function(e,t){return{type:"PLAY_INDEX",data:{index:e,source:t}}},e.exports.next=function(){return{type:"NEXT"}},e.exports.previous=function(){return{type:"PREVIOUS"}},e.exports.stop=function(){return{type:"STOP"}},e.exports.progress=function(e,t){return{type:"PROGRESS",data:{time:e,total:t}}},e.exports.callToAction=function(e,t){return{type:"CALL_TO_ACTION",data:{source:e,logAction:t}}},e.exports.playButtonAction=function(){return{type:"PLAY_BUTTON"}},e.exports.dismissChoiceModal=function(e){return{type:"DISMISS_CHOICE_MODAL",data:{source:e}}},e.exports.dismissUpsellModal=function(e){return{type:"DISMISS_UPSELL_MODAL",data:{source:e}}},e.exports.downloadApp=function(e){return{type:"DOWNLOAD_APP",data:{source:e}}},e.exports.playInApp=function(e){return{type:"PLAY_IN_APP",data:{source:e}}},e.exports.playInWebPlayer=function(e){return{type:"PLAY_IN_WEB_PLAYER",data:{source:e}}},e.exports.showUpsell=function(){return{type:"SHOW_UPSELL"}},e.exports.switchPlaybackStrategy=function(e){return{type:"SWITCH_PLAYBACK_STRATEGY",data:{strategy:e}}},e.exports.launchConcertsHub=function(){return{type:"LAUNCH_CONCERTS_HUB"}},e.exports.continueOnWeb=function(){return{type:"CONTINUE_ON_WEB"}},e.exports.mobileLogIn=function(){return{type:"MOBILE_LOG_IN"}},e.exports.expandTranscript=function(){return{type:"EXPAND_TRANSCRIPT"}},e.exports.collapseTranscript=function(){return{type:"COLLAPSE_TRANSCRIPT"}},e.exports.readMore=function(){return{type:"READ_MORE"}},e.exports.artistLink=function(e){return{type:"CLICK_ARTIST_LINK",data:{section:e}}},e.exports.viewAllArtists=function(e){return{type:"VIEW_ALL_ARTISTS",data:{section:e}}},e.exports.clickSocialMedia=function(e){return{type:"CLICK_SOCIAL_MEDIA",data:{socialMediaType:e}}},e.exports.genreLink=function(){return{type:"CLICK_GENRE"}}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t,n){var o;function a(){var a=o,r=t(e.getState());o=r,JSON.stringify(r)!==JSON.stringify(a)&&n(r,a||r)}var r=e.subscribe(a);return a(),r}n.r(t),n.d(t,"default",(function(){return o}))},,,,,,,,,,,function(e,t,n){n(25),n(21),n(20),n(55),n(9),n(56),n(19);var o=n(81),a="is_spotified";function r(e){this.autoplay=e.autoplay,this.context=e.context||{},this.platform=e.platform,this.strings=e.strings||{},this.isMobile=e.isMobile,this.isChromebook=Object.prototype.hasOwnProperty.call(window,"navigator")&&-1!==window.navigator.userAgent.indexOf("CrOS "),this.isTouchDevice=!!("ontouchstart"in window||Object.prototype.hasOwnProperty.call(window,"navigator")&&window.navigator.msMaxTouchPoints),this.isBrowserSupportedInWebPlayer=e.isBrowserSupportedInWebPlayer,this.usesWebPlayer=e.usesWebPlayer,this.downloadLink=e.downloadLink,this.webPlayerUrl="https://play.spotify.com/".concat(this.context.uri.split(":").slice(1,this.context.uri.length).join("/")),this.topDomain=".".concat(document.domain.split(".").slice(-2).join(".")),this.location=e.location||location,this.urlParams=this.getQueryParams(),this.remoteDebug=void 0!==this.urlParams.remoteDebug&&0!==this.urlParams.remoteDebug,this.remotePort=parseInt(this.urlParams.remotePort,10)||1080,this.coverArtPlaysPreview=e.isMobile&&"1"===this.urlParams.capp,this.isUserSignedIn=e.isUserSignedIn||!1,this.cookieStore=e.cookieStore||o,this.features=e.features||{}}r.prototype.setHasSpotify=function(e){return e?this.cookieStore.setCookie(a,"yes","/",this.topDomain):this.cookieStore.deleteCookie(a,"/",this.topDomain),this},r.prototype.hasSpotify=function(){return"yes"===this.cookieStore.getCookie(a)},r.prototype.getQueryParams=function(){for(var e=this.location.search?this.location.search.substr(1).split("&"):[],t={},n=0;n<e.length;n++){var o=e[n].split("=");t[o[0]]=o[1]?decodeURIComponent(o[1]):void 0}return t},r.prototype.getString=function(e){return this.strings[e]||e},r.prototype.getPlatformLink=function(){return this.downloadLink},r.prototype.getContextURI=function(){return this.context.uri},r.prototype.setContextURI=function(e){this.context.uri=e},r.prototype.getTrackURI=function(){return this.context.track},r.prototype.getContextType=function(){return this.context.type},r.prototype.getReferrer=function(){return document.referrer?document.referrer.split("/")[2]:""},r.prototype.getFeatures=function(){return this.features},e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var o=n(22).default,a=n(3),r=n(84).RafHandler;e.exports=function(e){var t=function(){},n=new Audio,i=new r((function(){e.dispatch(a.progress(1e3*n.currentTime,1e3*n.duration))})),c=function(){e.dispatch(a.next())};return{subscribe:function(){n.addEventListener("ended",c);t=o(e,(function(e){return{track:e.context.tracks[e.index_playing-1],playing:e.playing}}),(function(t){if(t.playing){if(null===t.track.preview_url)return void e.dispatch(a.next());n.src!==t.track.preview_url&&(n.src=t.track.preview_url),n.play(),i.subscribe()}else n.pause(),i.unsubscribe()}))},unsubscribe:function(){t(),n.pause(),n.removeEventListener("ended",c),i.unsubscribe()}}}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(18),n(21),n(20),n(55),n(122),n(9),n(127),n(34),n(19),e.exports={getCookie:function(e){return e&&this.hasCookie(e)?decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)".concat(decodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")),"$1")):null},hasCookie:function(e){return new RegExp("(?:^|;\\s*)".concat(decodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},setCookie:function(e,t,n,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"none";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(r?";expires=".concat(r):";expires=Fri, 01 Jan 2038 17:14:16 GMT").concat(n?";path=".concat(n):"").concat(o?";domain=".concat(o):"").concat(a?";secure":"",";samesite=").concat(i)},deleteCookie:function(e,t,n){document.cookie="".concat(e,"=;expires=Fri, 01 Jan 1970 17:14:16 GMT").concat(t?";path=".concat(t):"").concat(n?";domain=".concat(n):"")},getTopDomain:function(){var e=".".concat(document.domain.split(".").slice(-2).join("."));return e=".localhost"===e?"localhost":e},getExpireTime:function(e){var t=new Date,n=t.getTime();return n+=parseInt(e,10),t.setTime(n),t.toUTCString()}}},,,,,,,,function(e,t,n){n(90),n(91),n(92),n(99),n(100)("https://7005c150c3a643dd8edda7ebebb2159e@sentry.io/265629");var o=n(110),a=n(3),r=n(112),i=n(117),c=n(119),s=n(128),l=window.SpotifyEnvironment,u=new(n(33))(l);i.init({immediate:!0,classLoaded:"lazy-image_loaded"}),"ontouchstart"in document.documentElement||document.documentElement.classList.add("no-touch"),document.body.addEventListener("keyup",(function(e){9===e.which&&document.documentElement.classList.remove("no-focus-outline")}));var d=o.createStore(n(129)(r(Spotify.Entity),{hasSpotify:u.hasSpotify(),isMobile:u.isMobile,platform:u.platform,isChromebook:u.isChromebook,coverArtPlaysPreview:u.coverArtPlaysPreview,context:u.context,features:u.getFeatures()}),o.compose(o.applyMiddleware(n(130),n(132),n(133),n(152)),window.devToolsExtension?window.devToolsExtension():function(e){return e}));if(n(154)({onClose:i.reload,cookieNotice:s}),n(155)(),n(160)(d,document.querySelector(".js-choice-modal")),n(161)(d,document.querySelector(".js-upsell-modal")),n(163)(d),n(164)(d),n(165)(d,document.querySelector(".js-track-list")),n(167)(d,document.querySelector(".js-cover-art"),{coverArtPlaysPreview:u.coverArtPlaysPreview}),n(168)(d),n(169)(d),n(172)(d),n(173)(d),n(174)(d),n(175)(d),n(176)(d),n(177)(document.body,{onExpanded:i.reload}),document.querySelectorAll(".playable-context").length){var p=c();switch(d.dispatch(a.switchPlaybackStrategy(p.type)),p.type){case"preview":case"webplayer":case"mobileapp":n(58)(d).subscribe()}}},function(e,t,n){},,function(e,t,n){n(35),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t})},,,,,,,,function(e,t,n){n(18),n(25),n(49),n(103),n(9),n(19),n(108);e.exports=function(e){var t,n,o,a,r,i=[],c=[/open\.scdn\.co/];t="https://cdn.ravenjs.com/3.16.0/raven.min.js",n=function(){var t,n=window.Raven;n.config(e,{whitelistUrls:c,sampleRate:.3,ignoreErrors:[/\/[\dA-F]{8}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{12}\/main\.js/,"AutoJoinPolicy","PresentationRequest"]}).install(),n.setUserContext({id:(t="sp_t",document.cookie.split(";").map((function(e){return e.trim().split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{})[t])});for(var o=0;o<i.length;o++)n.captureMessage("Message: ".concat(i[o][0]," - URL: ").concat(i[o][1]," - Line: ").concat(i[o][2]))},o=document.createElement("script"),a=!1,o.setAttribute("src",t),n&&(o.onreadystatechange=o.onload=function(){a||n(),a=!0}),document.getElementsByTagName("head")[0].appendChild(o),r=window,"undefined"==typeof Raven&&(r.onerror=function(e,t,n){-1===e.toLowerCase().indexOf("script error")&&i.push([e,t,n])})}},,,,,,,,,,,,function(e,t,n){n(49),n(20),n(35),n(9),n(80);var o=n(113);e.exports=function(e){var t={uri:e.uri,type:e.type,tracks:[]};switch(e.type){case"album":case"playlist":t.tracks=e.tracks.items.map((function(e){var t=e.track?e.track:e;return"linked_from"in t?Object.assign(t,t.linked_from):t}));break;case"artist":t.tracks=e.top_tracks;break;case"track":t.tracks=[e];break;case"show":t.tracks=e.episodes.items;break;case"episode":t.tracks=[e];break;case"concert":t.tracks=e.tracks.map((function(e){return e.data}));break;case"view":if(""===t.uri&&e.id){var n=e.id.match(/^(.+?)(-page)?$/),a=o(n,2)[1];a&&(t.uri="spotify:genre:".concat(a))}break;case"user":case"concerthub":case"running":break;default:t.tracks=e.tracks.items}return"playlist"===e.type&&(t.tracks=t.tracks.slice(0,30)),t}},,,,,,,function(e,t,n){var o=n(33);e.exports=function(){var e=new o(window.SpotifyEnvironment);return e.urlParams.playback?{type:e.urlParams.playback}:{type:"preview"}}},,,,,,,,,function(e,t,n){var o=n(81),a="cookieNotice",r=o.getExpireTime(7776e6),i=o.getTopDomain();e.exports={set:o.setCookie.bind(o,a,"1","/",i,!0,r),get:o.getCookie.bind(o,a),delete:o.deleteCookie.bind(o,a,"/",i)}},function(e,t,n){n(35),e.exports=function(e,t){var n={context:e,playing:!1,index_playing:1,playbackStrategy:"none",showChoiceModal:!1,showUpsellModal:!1,progress:{time:0,total:0},tracksPreviewed:0,env:t};function o(e,t){return Object.assign({},e,t)}return function(e,t){var a=e&&"none"===e.playbackStrategy;switch(t.type){case"PLAY_INDEX":if(a)return e;var r=e.index_playing===t.data.index,i=0===e.tracksPreviewed||!r,c=i?e.tracksPreviewed+1:e.tracksPreviewed,s=!r||!e.playing,l=!e.env.hasSpotify&&(e.showUpsellModal||"preview"===e.playbackStrategy&&s&&i&&c%5==1);return o(e,{playing:s,index_playing:t.data.index,progress:r?e.progress:{time:0,total:0},tracksPreviewed:c,showUpsellModal:l});case"PLAY_TOGGLE":if(a)return e;var u=t.data.source&&"CTA cover-art"===t.data.source&&0===e.tracksPreviewed&&e.env.coverArtPlaysPreview;return o(e,{playing:!e.playing,showUpsellModal:u,tracksPreviewed:0===e.tracksPreviewed?1:e.tracksPreviewed});case"NEXT":return a?e:o(e,e.index_playing<e.context.tracks.length?{playing:!0,index_playing:e.index_playing+1,progress:{time:0,total:0}}:{playing:!1,progress:{time:0,total:0}});case"PREVIOUS":return a?e:o(e,{playing:!0,index_playing:e.index_playing>1?e.index_playing-1:e.index_playing,progress:{time:0,total:0}});case"STOP":return a?e:o(e,{playing:!1,progress:{time:0,total:0}});case"CALL_TO_ACTION":return e.env.isMobile?e.env.features.oneClickMobileDeepLinking?o(e,{navigate:"downloadApp"}):e.env.hasSpotify?o(e,{navigate:"playInApp"}):o(e,{showChoiceModal:!0,showUpsellModal:!1,navigate:null}):e.env.isChromebook?o(e,{navigate:"webplayer"}):e.env.isMobile||"running"!==e.context.type?e.env.hasSpotify?o(e,{navigate:"playInApp"}):o(e,{showChoiceModal:!0,showUpsellModal:!1,navigate:null}):o(e,{navigate:"runningWebsite"});case"VIEW_ALL_ARTISTS":return e.env.isMobile&&e.env.features.oneClickMobileDeepLinking?o(e,{navigate:"downloadApp"}):e.env.hasSpotify?o(e,{navigate:"playInApp"}):o(e,{showChoiceModal:!0,showUpsellModal:!1,navigate:null});case"LAUNCH_CONCERTS_HUB":return e.env.hasSpotify?o(e,{navigate:"launchConcertsHub"}):o(e,{showChoiceModal:!0,showUpsellModal:!1,navigate:null});case"PLAY_IN_APP":return"concert"===e.context.type?o(e,{navigate:"launchConcertsHub",showChoiceModal:!1}):o(e,{navigate:"playInApp",showChoiceModal:!1});case"PLAY_IN_WEB_PLAYER":return o(e,{navigate:"webplayer",showChoiceModal:!1});case"DOWNLOAD_APP":return o(e,{navigate:"downloadApp",showChoiceModal:!1});case"DISMISS_CHOICE_MODAL":return o(e,{showChoiceModal:!1});case"DISMISS_UPSELL_MODAL":return o(e,{showUpsellModal:!1});case"PROGRESS":return o(e,{progress:{time:t.data.time,total:t.data.total}});case"SWITCH_PLAYBACK_STRATEGY":return o(e,{playbackStrategy:t.data.strategy});case"CONTINUE_ON_WEB":return o(e,{navigate:"continueOnWeb",showChoiceModal:!1});case"MOBILE_LOG_IN":return o(e,{navigate:"mobileLogIn",showChoiceModal:!1});case"EXPAND_TRANSCRIPT":return o(e,{transcriptExpanded:!0});case"COLLAPSE_TRANSCRIPT":return o(e,{transcriptExpanded:!1});default:return e||n}}}},function(e,t,n){var o=n(131)("Open3"),a=function(e,t){var n=window.SpotifyEnvironment.isMobile;switch(e){case"playInApp":n?o.playInMobileApp(t):o.playInDesktopApp(t);break;case"downloadApp":n?o.goToDownloadAppStore(t):o.goToDownloadWww(t);break;case"webplayer":o.playInWebPlayer(t)}},r=function(e,t){o.play30sPreview(t)};e.exports=function(e){return function(t){return function(n){var i=e.getState(),c=t(n),s=e.getState();switch(n.type){case"PLAY_INDEX":if(s.playing&&r(s.playbackStrategy,n.data.source),!i.showUpsellModal&&s.showUpsellModal){o.showUpsellModal(n.data.source);break}break;case"TOGGLE":s.playing&&r(s.playbackStrategy,n.data.source);break;case"CALL_TO_ACTION":if(s.navigate){a(s.navigate,n.data.source);break}if(s.showChoiceModal){o.showModal(n.data.source);break}if(s.playing){r(s.playbackStrategy,n.data.source);break}break;case"DOWNLOAD_APP":case"PLAY_IN_APP":case"PLAY_IN_WEB_PLAYER":if(s.navigate){a(s.navigate,n.data.source);break}break;case"DISMISS_CHOICE_MODAL":o.dismissModal(n.data.source);break;case"DISMISS_UPSELL_MODAL":o.dismissUpsellModal(n.data.source);break;case"SWITCH_PLAYBACK_STRATEGY":o.loadPlaybackStrategy(n.data.strategy)}return c}}}},function(e,t){var n=function(e,t,n,o){try{ga("send","event",e,t,n,o)}catch(a){}};e.exports=function(e){return{loadPageSignedIn:function(){n(e,"Signed In Load page")},loadPlaybackStrategy:function(t){n(e,"Load playback strategy",t,{nonInteraction:!0})},showModal:function(t){n(e,"Show modal",t)},dismissModal:function(t){n(e,"Dismiss modal",t)},showUpsellModal:function(t){n(e,"Show upsell modal",t)},dismissUpsellModal:function(t){n(e,"Dismiss upsell modal",t)},goToWww:function(t){n(e,"Go to WWW",t)},goToSignupWww:function(t){n(e,"Go to signup in WWW",t)},goToDownloadWww:function(t){n(e,"Go to download in WWW",t)},goToDownloadAppStore:function(t){n(e,"Go to download in App Store",t)},play30sPreview:function(t){n(e,"Play 30s preview",t)},playInDesktopApp:function(t){n(e,"Play in desktop app",t)},playInMobileApp:function(t){n(e,"Play in mobile app",t)},playInWebPlayer:function(t){n(e,"Play in Web Player",t)},sendSMS:function(){n(e,"SMS send")},sendSMSError:function(t){n(e,"SMS send error",t)},skipPrev:function(t){n(e,"Skip previous",t)},skipNext:function(t){n(e,"Skip next",t)},playButton:function(){n("click","play","/button")}}}},function(e,t,n){n(25);var o=function(e,t,n){try{window.gtag("event","imdb",{event_action:e,event_category:t,event_label:n})}catch(o){}};e.exports=function(e){return function(t){return function(n){var a,r,i=t(n),c=e.getState();switch(n.type){case"CALL_TO_ACTION":!function(){window&&window.dataLayer&&0===window.location.pathname.indexOf("/user/spotifydiscover/playlist/")&&window.dataLayer.push({event:"discover_weekly_play_on_spotify"});try{window.gtag("event","play",{event_category:"click",event_label:"/button"})}catch(e){}}();break;case"PLAY_INDEX":c.playing&&function(){try{window.gtag("event","play",{event_category:"click",event_label:"track-list/row"})}catch(e){}}();break;case"READ_MORE":o("click","read more","/button");break;case"CLICK_ARTIST_LINK":r=n.data.section,o("click","other artist page",r);break;case"VIEW_ALL_ARTISTS":!function(e){o("click","view all artists",e)}(n.data.section);break;case"CLICK_SOCIAL_MEDIA":a=n.data.socialMediaType,o("click","social media",a);break;case"CLICK_GENRE":o("click","genre playlist","/button")}return i}}}},function(e,t,n){n(18),n(21),n(20),n(9),n(19);var o=window.SpotifyEnvironment,a=n(33),r=n(134),i=n(178),c=new a(o),s=new r(o);e.exports=function(e){return function(t){return function(n){var o=t(n),a=e.getState();switch(n.type){case"DOWNLOAD_APP":case"PLAY_IN_APP":case"PLAY_IN_WEB_PLAYER":case"LAUNCH_CONCERTS_HUB":case"CALL_TO_ACTION":case"CONTINUE_ON_WEB":case"MOBILE_LOG_IN":switch(a.navigate){case"playInApp":c.setHasSpotify(!0),s.launch(a.context.uri);break;case"launchConcertsHub":c.setHasSpotify(!0),s.launch("spotify:app:concerts");break;case"downloadApp":window.location=c.getPlatformLink();break;case"webplayer":var r=a.context.uri,l="https://open.spotify.com/".concat(r.split(":").slice(1,r.length).join("/"));window.open(l);break;case"runningWebsite":window.location="https://www.spotify.com/running";break;case"continueOnWeb":var u=window.Spotify.Entity.external_urls.spotify;window.location="https://www.spotify.com/signup/?uri=".concat(encodeURIComponent(a.context.uri),"&forward_url=").concat(encodeURIComponent(u));break;case"mobileLogIn":i.navigateToLoginPage()}}return o}}}},function(e,t,n){"use strict";function o(e){this._env=e}n(18),n(135),n(25),n(21),n(140),n(20),n(142),n(9),n(143),n(34),n(56),n(19),e.exports=o,o.prototype.launch=function(e){var t=e.indexOf("?")>-1?"&".concat(location.search.substring(1)):location.search;e+=t.replace(/\|/g,"%7C"),e=this._removeUrlParam(e,"_op"),e=this._removeUrlParam(e,"nd"),this._launchIFrame(e)},o.prototype._getSpotifyHref=function(e){var t=e.split("?").length,n=e.split("?").shift(),o=t>1?e.split("?").pop():null,a=n.split(":").slice(1),r=this._env;return"album"===r.context.type&&r.context.track&&a.splice(a.length-1,0,"play"),"spotify://".concat(a.join("/")).concat(null!==o?"?".concat(o):"")},o.prototype._launchIFrame=function(e){var t=this._env;if(t.isMobile){window.platform=t.platform;var n=this._getSpotifyHref(e);window.functionalTesting={locationHref:n},"test"===t.environment&&location.host.includes("open-test")||(location.href=n)}else{var o=document.createElement("iframe");o.style.display="none",o.src=e,document.body.appendChild(o)}},o.prototype._removeUrlParam=function(e,t){var n=e.split("?");if(n.length>=2){for(var o="".concat(encodeURIComponent(t),"="),a=n[1].split(/[&;]/g),r=a.length;r-- >0;)-1!==a[r].lastIndexOf(o,0)&&a.splice(r,1);e=n[0]+(a.length>0?"?".concat(a.join("&")):"")}return e}},,,,,,,,,,,,,,,,,,function(e,t,n){var o=n(153),a=window.SpotifyEnvironment,r=new(n(33))(a);e.exports=function(){return function(e){return function(t){var n=e(t);if(!r.getFeatures().mobileWebPlayer)return n;switch(t.type){case"CALL_TO_ACTION":o("select-platform",t.data.logAction,null,null);break;case"DOWNLOAD_APP":o("select-platform","download-app",null,null);break;case"CONTINUE_ON_WEB":o("select-platform","continue-on-web",null,null);break;case"MOBILE_LOG_IN":break;default:return n}return n}}}},function(e,t){e.exports=function(e,t,n,o,a){a=a||function(){};var r=new window.XMLHttpRequest;r.open("POST","https://".concat(document.domain,"/log/webanalyticsevent")),r.onreadystatechange=function(){4===r.readyState&&a(200===r.status)},r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({category:e,action:t,label:n,context:o}))}},function(e,t){e.exports=function(e){var t=document.querySelector(".notice"),n=document.querySelector(".notice button"),o=document.querySelector(".concert-notice"),a=document.querySelector(".concert-notice button"),r=e.cookieNotice,i=e.japanNotice;t&&n&&n.addEventListener("click",(function(){"japan"===t.dataset.country?i.set():r.set(),t.parentNode.removeChild(t),e&&e.onClose&&e.onClose()})),o&&a&&a.addEventListener("click",(function(){o.parentNode.removeChild(o)}))}},function(e,t,n){n(156),n(157);var o=n(159);e.exports=function(){var e=document.querySelectorAll(".btn-scroll");Array.apply(null,e).forEach((function(e){e.addEventListener("click",(function(){var e=document.getElementById(this.hash.substr(1));return e&&("true"===this.dataset.onlyScrollUp&&e.getBoundingClientRect().top<0||!this.dataset.onlyScrollUp&&e.getBoundingClientRect().top>0)&&o(e.offsetTop,500),!0}))}))}},,,,function(e,t,n){var o=n(84).raf,a=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};e.exports=function(e,t){var n=document.body,r=document.documentElement,i=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),c=window.innerHeight,s=Math.min(e,i-c),l=a(),u=s-l,d=+new Date,p=!0,f=null;o((function e(){if(p){o(e);var n,r,i,c=+new Date,y=Math.floor((n=c-d,r=l,i=u,(n/=t/2)<1?i/2*n*n+r:-i/2*(--n*(n-2)-1)+r));f?Math.abs(f-a())<2?(f=y,window.scrollTo(0,y)):p=!1:(f=y,window.scrollTo(0,y)),c>d+t&&(window.scrollTo(0,s),p=!1)}}))}},function(e,t,n){var o=n(22).default,a=n(3);e.exports=function(e,t){if(t){var n=null,r=t.querySelector("#mobile-download"),i=t.querySelector("#mobile-play"),c=t.querySelector("#choice-web-player"),s=t.querySelector(".btn-close"),l=i,u=t.querySelector("#mobile-continue-on-web");r.addEventListener("click",(function(){e.dispatch(a.downloadApp("Modal"))})),c&&(c.addEventListener("click",(function(){e.dispatch(a.playInWebPlayer("Modal"))})),l=c),i.addEventListener("click",(function(){e.dispatch(a.playInApp("Modal"))})),s.addEventListener("click",(function(){e.dispatch(a.dismissChoiceModal("Modal"))})),c&&u.addEventListener("click",(function(){e.dispatch(a.continueOnWeb())})),t.addEventListener("click",(function(n){n.target===t&&e.dispatch(a.dismissChoiceModal("Modal"))})),t.addEventListener("keydown",(function(t){switch(t.which){case 9:t.shiftKey?document.activeElement===s&&t.preventDefault():document.activeElement===l&&t.preventDefault();break;case 27:e.dispatch(a.dismissChoiceModal("Modal"))}}));o(e,(function(e){return{showChoiceModal:e.showChoiceModal}}),(function(e){e.showChoiceModal?(t.classList.remove("hide"),document.body.classList.add("modal-open")):(t.classList.add("hide"),document.body.classList.remove("modal-open")),t.setAttribute("aria-hidden",e.showChoiceModal?"false":"true"),document.querySelector(".page").setAttribute("aria-hidden",e.showChoiceModal?"true":"false"),e.showChoiceModal?(n=document.activeElement,r.focus()):n&&(n.focus(),n=null)}))}}},function(e,t,n){n(162);var o=n(22).default,a=n(3);e.exports=function(e,t){if(t){var n=null,r=t.querySelector(".link"),i=t.querySelector(".btn-close");r.addEventListener("click",(function(){n.focus(),n=null,e.dispatch(a.callToAction("Upsell Modal"))})),i.addEventListener("click",(function(){e.dispatch(a.dismissUpsellModal("Upsell Modal"))})),t.addEventListener("click",(function(n){n.target===t&&e.dispatch(a.dismissUpsellModal("Upsell Modal"))})),t.addEventListener("keydown",(function(t){switch(t.which){case 9:t.shiftKey?document.activeElement===i&&t.preventDefault():document.activeElement===r&&t.preventDefault();break;case 27:e.dispatch(a.dismissUpsellModal("Upsell Modal"))}}));o(e,(function(e){return{showUpsellModal:e.showUpsellModal}}),(function(e){e.showUpsellModal?(n=document.activeElement,t.classList.remove("hide"),r.focus(),setTimeout((function(){t.classList.remove("fade-out")}),0)):(setTimeout((function(){t.classList.add("hide")}),500),t.classList.add("fade-out"),n&&(n.focus(),n=null)),t.setAttribute("aria-hidden",e.showUpsellModal?"false":"true"),document.querySelector(".page").setAttribute("aria-hidden",e.showUpsellModal?"true":"false"),e.showUpsellModal?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")}))}}},,function(e,t,n){var o=n(3);e.exports=function(e){for(var t=document.querySelectorAll(".js-action-button"),n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){var n=t.currentTarget.getAttribute("data-track-type"),a=t.currentTarget.getAttribute("data-log-action");e.dispatch(o.callToAction("CTA ".concat(n),a)),/js-play-button/.test(t.currentTarget.className)&&e.dispatch(o.playButtonAction()),t.preventDefault()}))}},function(e,t,n){var o=n(3);e.exports=function(e){for(var t=document.querySelectorAll(".js-concerts-hub-button"),n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){e.dispatch(o.launchConcertsHub()),t.preventDefault()}))}},function(e,t,n){n(55);var o=n(22).default,a=n(3),r=n(166);e.exports=function(e,t){if(t){var n=t.querySelectorAll(".js-track-row"),i=function(t){if("A"!==t.target.nodeName){var n=function(e,t){for(var n=e;n;){if(r.hasClass(n,t))return n;n=n.parentNode}return null}(t.target,"js-track-row");if(n&&r.hasClass(n,"track-playback-enabled")){var o=parseInt(n.getAttribute("data-position"),10);e.dispatch(a.playIndex(o,"tracklist"))}}};t.addEventListener("click",i),t.addEventListener("keydown",(function(e){32!==e.keyCode&&13!==e.keyCode||(i.call(this,e),e.preventDefault())}));o(e,(function(e){return{playing:e.playing,indexPlaying:e.index_playing,playbackStrategy:e.playbackStrategy}}),(function(e){for(var t=0;t<n.length;t++){var o=n[t];o.classList.remove("playing"),"preview"===e.playbackStrategy?o.classList.add("preview-strategy"):o.classList.remove("preview-strategy"),"preview"===e.playbackStrategy&&o.classList.contains("track-has-preview")?o.classList.add("track-playback-enabled"):o.classList.remove("track-playback-enabled"),e.playing&&parseInt(o.getAttribute("data-position"),10)===e.indexPlaying&&o.classList.add("playing"),o.querySelector(".progress-bar").style.width="0%"}}));o(e,(function(e){return{indexPlaying:e.index_playing,progressTime:e.progress.time,progressTotal:e.progress.total}}),(function(e){var n='.js-track-row[data-position="'.concat(e.indexPlaying,'"] .progress-bar'),o=t.querySelector(n);o&&(o.style.width="".concat(100*e.progressTime/e.progressTotal,"%"))}))}}},function(e,t,n){function o(e){return"undefined"!=typeof NodeList&&e instanceof NodeList?[].slice.call(e):[].concat(e)}n(18),n(21),n(20),n(9),n(34),n(19),t.addListener=function(e,t,n){t=o(t);for(var a=0;a<t.length;a++)e.attachEvent&&!e.addEventListener?e.attachEvent(t[a],n):e.addEventListener(t[a],n,!1)},t.setText="textContent"in document.body?function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].textContent=t}:function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].innerText=t};var a,r,i,c=function(e,t){for(var n=(e||"").replace(/^\s+|\s+$/g,"").split(/\s+/),o=[],a={},r=0,i=n.length;r<i;r++){var c=n[r];a[c]||c===t||(o.push(c),a[c]=1)}return o};"classList"in document.body?(a=function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].classList.add(t);return e},r=function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].classList.remove(t);return e},i=function(e,t){return e.classList.contains(t)}):(a=function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].className=c("".concat(e[n].className," ").concat(t)).join(" ");return e},r=function(e,t){e=o(e);for(var n=0;n<e.length;n++)e[n].className=c(e[n].className,t).join(" ")},i=function(e,t){for(var n=c(e.className),o=n.length;o--;)if(n[o]===t)return!0;return!1}),t.addClass=a,t.removeClass=r,t.hasClass=i},function(e,t,n){var o=n(22).default,a=n(3);e.exports=function(e,t,n){if(t){t.addEventListener("click",(function(t){var o=t.currentTarget.getAttribute("data-track-type");n&&n.coverArtPlaysPreview?e.dispatch(a.toggle("CTA ".concat(o))):e.dispatch(a.callToAction("CTA ".concat(o)))}));o(e,(function(e){return{playing:e.playing}}),(function(e){e.playing?t.classList.add("playing"):t.classList.remove("playing")}))}}},function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelector("#mobile-download"),n=document.querySelector("#mobile-continue-on-web"),a=document.querySelector("#mobile-login");t&&t.addEventListener("click",(function(){e.dispatch(o.downloadApp("Mobile Web Player Test Landing"))})),n&&n.addEventListener("click",(function(){e.dispatch(o.continueOnWeb())})),a&&a.addEventListener("click",(function(){e.dispatch(o.mobileLogIn())}))}},function(e,t,n){var o,a=n(170),r=n(3),i=n(22).default;function c(e){e.classList.remove("hidden")}function s(e){e.classList.add("hidden")}function l(e){var t=document.querySelector(".js-transcript-expand-button"),n=document.querySelector(".sticky-container"),r=document.querySelector(".transcript .text-container"),i=document.querySelector(".media-transcript");e.transcriptExpanded?(s(t),c(n),i.classList.remove("preview"),r.classList.remove("preview"),(o=new a(".sticky-container",{stickyWrap:!0,stickyClass:"stuck"})).destroy(),window.addEventListener("resize",o.update)):undefined!==e.transcriptExpanded&&(s(n),c(t),i.classList.add("preview"),r.classList.add("preview"),function(){var e=document.querySelector(".sticky-container");window.removeEventListener("resize",o.update),o.destroy(),e.classList.remove("stuck"),e.parentElement.parentElement.insertBefore(e,e.parentElement),e.parentElement.removeChild(e.nextElementSibling),e.setAttribute("style","")}())}function u(e){return{transcriptExpanded:e.transcriptExpanded}}e.exports=function(e){if(null!==document.querySelector(".transcript")){var t=document.querySelector(".js-transcript-expand-button"),n=document.querySelector(".js-transcript-collapse-button");t.addEventListener("click",(function(t){t.preventDefault(),e.dispatch(r.expandTranscript())})),n.addEventListener("click",(function(t){t.preventDefault(),e.dispatch(r.collapseTranscript())})),i(e,u,l)}}},,,function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelectorAll(".js-genre-link");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",(function(){e.dispatch(o.genreLink())}),{capture:!0})}},function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelector(".js-read-more");t&&t.addEventListener("click",(function(){e.dispatch(o.readMore())}))}},function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelectorAll(".js-artist-link");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){var n=t.currentTarget.getAttribute("data-track-type");e.dispatch(o.artistLink(n))}))}},function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelectorAll(".js-social-media");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){var n=t.currentTarget.getAttribute("data-track-type");e.dispatch(o.clickSocialMedia(n))}))}},function(e,t,n){var o=n(3);e.exports=function(e){var t=document.querySelectorAll(".js-all-artists-button");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){var n=t.currentTarget.getAttribute("data-track-type");e.dispatch(o.viewAllArtists(n)),/js-play-button/.test(t.currentTarget.className)&&e.dispatch(o.playButtonAction()),t.preventDefault()}))}},function(e,t){e.exports=function(e,t){function n(e,t){t=t||{},this.elm=e,this.elmToggle=e.querySelector(".expand-toggle"),this.isExpanded=!1,this.onExpanded=t.onExpanded}n.prototype.init=function(){this.elmToggle&&this.elmToggle.addEventListener("click",this.onToggleClick.bind(this))},n.prototype.onToggleClick=function(){this.isExpanded=!this.isExpanded,this.isExpanded?this.elm.classList.add("expand_expanded"):this.elm.classList.remove("expand_expanded"),this.isExpanded&&this.onExpanded&&this.onExpanded()};for(var o=e.querySelectorAll(".expand"),a=0;a<o.length;a++){new n(o[a],t).init()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"navigateToLoginPage",(function(){return w})),n.d(t,"navigateToSignupPage",(function(){return b})),n.d(t,"reloadOnLoginSuccess",(function(){return k}));var o,a;n(18),n(21),n(49),n(146),n(9),n(34);!function(e){e.Web="Web",e.PWA="PWA",e.Desktop="Desktop"}(o||(o={})),function(e){e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other"}(a||(a={}));var r=n(59),i=n.n(r),c=(n(25),n(80),n(56),n(86)),s=n.n(c),l=(n(147),n(82),n(87)),u=n.n(l),d=(n(151),n(88)),p=n.n(d);function f(e,t){f=function(e,t){return new r(e,void 0,t)};var n=u()(RegExp),o=RegExp.prototype,a=new WeakMap;function r(e,t,o){var r=n.call(this,e,t);return a.set(r,o||a.get(e)),r}function c(e,t){var n=a.get(t);return Object.keys(n).reduce((function(t,o){return t[o]=e[n[o]],t}),Object.create(null))}return s()(r,n),r.prototype.exec=function(e){var t=o.exec.call(this,e);return t&&(t.groups=c(t,this)),t},r.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=a.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var r=this;return o[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==i()(e[e.length-1])&&e.push(c(e,r)),t.apply(this,e)}))}return o[Symbol.replace].call(this,e,t)},f.apply(this,arguments)}var y=f(/Spotify\/(.+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/,{version:1});function h(){if(!!window.navigator.userAgent.match(y))return o.Desktop;var e,t="serviceWorker"in window.navigator,n=("macOS"===(e=p.a.parse(window.navigator.userAgent).os.name)?a.macOS:"Windows"===e?a.Windows:"Linux"===e?a.Linux:"Chrome OS"===e?a.ChromeOS:a.Other)===a.ChromeOS,r=-1!==window.location.search.indexOf("pwa=1");return t&&(n||r)?o.PWA:o.Web}function v(){return h()===o.Desktop||window.matchMedia("(display-mode: standalone)").matches||"Windows"in window}var g=function(){return v()?"".concat(location.origin,"/auth_redirect"):window.location.href},m=function(e,t){var n;t&&(e+="&".concat((n=t,Object.keys(n).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]).replace(/%7C/g,"|"))})).join("&")))),v()?window.open(e,"_blank","toolbar=no").focus():window.location.assign(e)},w=function(e){var t="https://accounts.spotify.com/login?continue=".concat(encodeURIComponent(g()));m(t,e)},b=function(e){var t="https://www.spotify.com/signup?forward_url=".concat(encodeURIComponent(g()));m(t,e)},k=function(){window.addEventListener("storage",(function(e){"login_success"===e.key&&(window.focus(),window.localStorage.removeItem("login_success"),window.location.reload())}))}}]);
//# sourceMappingURL=open.2434186b.js.map